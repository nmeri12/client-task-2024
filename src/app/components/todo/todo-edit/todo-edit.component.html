@if (todo$ | async; as todo) {
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="form-group pt-2">
      <label>ID</label>
      <input type="text" formControlName="id" class="form-control"/>
    </div>

    <div class="form-group pt-2">
      <label>User ID</label>
      <input type="text" formControlName="userId" class="form-control"/>
    </div>

    <div class="form-group pt-2">
      <label>Title</label>
      <input
        type="text"
        formControlName="title"
        class="form-control"
        [ngClass]="{ 'is-invalid': submitted && f['title'].errors }"
      />
      @if (submitted && f['title'].errors?.['required']) {
        <div class="invalid-feedback">
          <div>Title is required</div>
        </div>
      }
    </div>

    <div class="form-group form-check pt-2">
      <input id="completed" type="checkbox" formControlName="completed" class="form-check-input"/>
      <label for="completed" class="form-check-label">Completed</label>
    </div>

    <div class="form-group pt-3">
      <button [disabled]="loading" class="btn btn-primary" type="submit" disabled>
        @if (loading) {
          <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        }
        Submit
      </button>
    </div>
  </form>
} @else () {
  <app-loading></app-loading>
}
